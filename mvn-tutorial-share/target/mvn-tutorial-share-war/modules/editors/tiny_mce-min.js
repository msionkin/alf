Alfresco.util.RichEditorManager.addEditor("tinyMCE",function(k,r){var f;return({init:function m(v,u){u.mode="exact";u.relative_urls=true;u.convert_urls=false;u.elements=v;u.font_size_style_values="1,2,3,4,5,6,7";var t=u.extended_valid_elements;t=(t&&t!="")?(t=t+","):"";u.extended_valid_elements=t+"embed[src|type|width|height|flashvars|wmode]";u.plugins=(u.plugins&&u.plugins!="")?u.plugins+", safari,legacyoutput":"safari,legacyoutput";u.forced_root_block="p";if(!u.init_instance_callback){u.init_instance_callback=function(w){return function(x){YAHOO.Bubbling.fire("editorInitialized",w)}}(this)}f=new tinymce.Editor(v,u);return this},getEditor:function a(){return f},clear:function e(){YAHOO.util.Dom.get(f.id).value="";f.setContent("")},render:function h(){f.render()},execCommand:"execCommand",disable:function j(){f.hide()},enable:function s(){f.show()},focus:function d(){f.focus()},getContent:function i(){return f.getContent()},setContent:function p(t){f.setContent(t)},save:function n(){f.save()},getContainer:function b(){return f.editorId+"_tbl"},activateButton:function g(t){f.controlManager.setActive(t,true)},deactivateButton:function q(t){f.controlManager.setActive(t,false)},isDirty:function o(){return f.isDirty()},clearDirtyFlag:function c(){f.isNotDirty=1},addPageUnloadBehaviour:function l(t,u){window.onbeforeunload=function(v){if(YAHOO.lang.isFunction(u)&&u()){var v=v||window.event;if(f.isDirty()){if(v){v.returnValue=t}return t}}}}})});