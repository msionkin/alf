define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/AlfDocumentFilter.html","alfresco/core/Core","alfresco/documentlibrary/_AlfDocumentListTopicMixin","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/on"],function(g,j,n,l,d,f,c,i,e,k,h){return g([j,n,d,f],{i18nRequirements:[{i18nFile:"./i18n/AlfDocumentFilter.properties"}],cssRequirements:[{cssFile:"./css/AlfDocumentFilter.css"}],templateString:l,hide:false,filter:null,filterData:"",postMixInProperties:function m(){if(this.label!=null&&this.filter!=null){this.label=this.encodeHTML(this.message(this.label));this.filterHref="#filter="+this.filter+"|"+this.filterData;if(this.description!=null){this.description=this.encodeHTML(this.message(this.description))}}else{this.alfLog("warn","Not enough information provided for filter. It will not be displayed",this);this.hide=true}},postCreate:function b(){if(this.hide==true){k.add(this.domNode,"hidden")}if(this.description!=null){this.alfSubscribe(this.filterChangeTopic,c.hitch(this,"onFilterChange"))}},onFilterChange:function a(o){if(o!=null&&o.filterId==this.filter){this.alfPublish(this.filterSelectionTopic,{value:this.filter,description:this.description})}}})});