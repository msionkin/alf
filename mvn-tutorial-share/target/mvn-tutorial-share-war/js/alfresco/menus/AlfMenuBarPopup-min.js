define(["dojo/_base/declare","dijit/PopupMenuBarItem","alfresco/core/Core","alfresco/core/CoreRwd","alfresco/menus/_AlfPopupCloseMixin","dojo/dom-construct","dojo/dom-class","alfresco/menus/AlfMenuGroups"],function(c,f,a,d,g,b,i,j){return c([f,a,d,g],{i18nScope:"org.alfresco.Menus",cssRequirements:[{cssFile:"./css/AlfMenuBarPopup.css"}],showArrow:true,iconAltText:"",labelWithIconClass:"alf-menu-bar-popup-label-node",postMixInProperties:function h(){if(this.label){this.label=this.encodeHTML(this.message(this.label))}this.inherited(arguments)},postCreate:function e(){if(this.iconClass&&this.iconClass!="dijitNoIcon"){this.iconNode=b.create("img",{className:this.iconClass,src:Alfresco.constants.URL_RESCONTEXT+"/js/alfresco/menus/css/images/transparent-20.png",alt:this.message(this.iconAltText)},this.focusNode,"first");if(this.label){i.add(this.containerNode,this.labelWithIconClass)}}if(this.showArrow){b.create("span",{className:"alf-menu-arrow",innerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;"},this.focusNode)}this.inherited(arguments);this.createWidget({name:"alfresco/menus/AlfMenuGroups",assignTo:"popup",config:{widgets:this.widgets}});this.registerPopupCloseEvent()}})});