define(["dojo/_base/declare","alfresco/menus/AlfMenuBarItem","dojo/dom-construct","dojo/dom-class"],function(f,e,d,h){return f([e],{cssRequirements:[{cssFile:"./css/AlfMenuBarToggle.css"}],i18nRequirements:[{i18nFile:"./i18n/AlfMenuBarToggle.properties"}],checked:false,onConfig:null,offConfig:null,constructor:function c(i){this.alfLog("log","Create toggle",i);if(this.onConfig==null){this.onConfig={label:"default.on.label"}}if(this.offConfig==null){this.offConfig={label:"default.off.label"}}},postCreate:function g(){if(this.onConfig&&this.onConfig.iconClass){this.iconClass=this.onConfig.iconClass}else{if(this.offConfig&&this.offConfig.iconClass){this.iconClass=this.offConfig.iconClass}}this.inherited(arguments);if(this.checked){this.renderToggle(this.onConfig,this.offConfig)}else{this.renderToggle(this.offConfig,this.onConfig)}},renderToggle:function b(j,i){if(j&&j.label){this.label=j.label;this.set("label",this.message(j.label))}if(i&&i.iconClass){h.remove(this.iconNode,i.iconClass)}if(j&&j.iconClass){this.iconClass=j.iconClass;h.add(this.iconNode,j.iconClass)}h.remove(this.domNode,"dijitMenuItemSelected")},onClick:function a(){this.alfLog("log","Toggling!");this.checked=!this.checked;if(this.checked){this.renderToggle(this.onConfig,this.offConfig);if(this.onConfig.publishTopic){this.alfPublish(this.onConfig.publishTopic,this.onConfig.publishPayload)}}else{this.renderToggle(this.offConfig,this.onConfig);if(this.offConfig.publishTopic){this.alfPublish(this.offConfig.publishTopic,this.offConfig.publishPayload)}}}})});