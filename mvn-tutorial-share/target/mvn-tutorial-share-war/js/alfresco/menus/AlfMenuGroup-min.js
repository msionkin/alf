define(["dojo/_base/declare","dojo/text!./templates/AlfMenuGroup.html","alfresco/core/Core","alfresco/menus/AlfDropDownMenu","alfresco/core/CoreRwd","dojo/_base/event","dojo/dom-style","dojo/dom-class","dojo/keys","dijit/popup","dojo/string"],function(h,n,d,f,g,c,j,m,o,b,i){return h([f,d,g],{templateString:n,cssRequirements:[{cssFile:"./css/AlfMenuGroup.css"}],label:"",constructor:function a(p){this.templateString=i.substitute(n,{ddmTemplateString:f.prototype.templateString})},postCreate:function e(){if(this.label==""){j.set(this._groupTitleNode,"display","none")}else{this.label=this.message(this.label);this._groupTitleNode.innerHTML=this.encodeHTML(this.label)}this.inherited(arguments)},isFocusable:function k(){return this.hasChildren()},_onRightArrow:function(p){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.alfLog("log","Open cascading menu");this._moveToPopup(p)}else{this.alfLog("log","Try and find a menu bar in the stack and move to next");var q=this.findMenuBarAncestor(this.getParent());if(q){this.alfLog("log","Go to next item in menu bar");q.focusNext()}}},_onLeftArrow:function(p){if(this.getParent().parentMenu&&!this.getParent().parentMenu._isMenuBar){this.alfLog("log","Close cascading menu");this.getParent().parentMenu.focusChild(this.getParent().parentMenu.focusedChild);b.close(this.getParent())}else{var q=this.findMenuBarAncestor(this.getParent());if(q){this.alfLog("log","Focus previous item in menu bar");q.focusPrev()}else{p.stopPropagation();p.preventDefault()}}},findMenuBarAncestor:function l(s){var r=false;while(!r&&!s._isMenuBar){if(s.parentMenu){s=s.parentMenu}else{var q=s.getParent();while(q&&!q.parentMenu){q=q.getParent()}if(q&&q.parentMenu){s=q.parentMenu}r=(q==null)}}var p=(s._isMenuBar)?s:null;return p}})});