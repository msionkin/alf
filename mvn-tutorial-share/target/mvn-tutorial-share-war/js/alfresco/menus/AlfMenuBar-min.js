define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/AlfMenuBar.html","alfresco/core/Core","dojo/_base/array","dijit/MenuBar"],function(e,i,l,k,a,g,d){var h=e([d,a],{_lockPopupsOpen:false,_closeChild:function j(){this.alfLog("log","Custom MenuBar _closeChild");if(this._lockPopupsOpen){}else{this.inherited(arguments)}}});return e([i,l,a],{i18nScope:"org.alfresco.Menus",cssRequirements:[{cssFile:"./css/AlfMenuBar.css"}],i18nRequirements:[{i18nFile:"./i18n/AlfMenuBar.properties"}],templateString:k,_menuBar:null,lockPopupsOpen:function c(m){this._menuBar._lockPopupsOpen=m},postCreate:function f(){this._menuBar=new h({});var m=this;if(this.widgets&&this.widgets instanceof Array){g.forEach(this.widgets,function(o,n){if(o.config&&o.config.label){o.config.label=m.message(o.config.label)}});this.processWidgets(this.widgets)}},allWidgetsProcessed:function b(m){var n=this;g.forEach(m,function(p,o){n._menuBar.addChild(p)});this._menuBar.placeAt(this.containerNode)}})});