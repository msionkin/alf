define(["dojo/_base/declare","dijit/Dialog","alfresco/core/Core","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/html","dojo/aspect","dijit/registry","dijit/nls/loading","dijit/nls/common"],function(f,j,d,c,i,e,k,g,b,a){return f([j,d],{cssRequirements:[{cssFile:"./css/AlfDialog.css"}],i18nRequirements:[{i18nFile:"./i18n/AlfDialog.properties"}],textContent:"",widgetsContent:null,widgetsButtons:null,postMixInProperties:function l(){this.inherited(arguments)},postCreate:function n(){this.inherited(arguments);k.add(this.domNode,"alfresco-dialog-AlfDialog");this.bodyNode=e.create("div",{"class":"dialog-body"},this.containerNode,"last");if(this.widgetsContent!=null){var p=e.create("div",{},this.bodyNode,"last");this.processWidgets(this.widgetsContent,p)}else{if(this.textContent!=null){g.set(this.bodyNode,this.encodeHTML(this.textContent))}}if(this.widgetsButtons!=null){this.buttonsNode=e.create("div",{"class":"footer"},this.containerNode,"last");this.processWidgets(this.widgetsButtons,this.buttonsNode)}},processWidget:function h(p,s,q){if(this.buttonsNode){if(s.config==null){s.config={}}if(s.config.publishPayload==null){s.config.publishPayload={}}var r=a.findWidgets(this.containerNode);s.config.publishPayload.dialogContent=r}this.inherited(arguments)},allWidgetsProcessed:function o(p){if(this.buttonsNode){i.forEach(p,c.hitch(this,"attachButtonHandler"))}},attachButtonHandler:function m(q,p){if(q!=null){b.before(q,"onClick",c.hitch(this,"hide"))}}})});