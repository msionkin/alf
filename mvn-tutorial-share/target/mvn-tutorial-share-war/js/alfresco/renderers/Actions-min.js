define(["dojo/_base/declare","alfresco/menus/AlfMenuBar","alfresco/documentlibrary/_AlfDocumentListTopicMixin","alfresco/menus/AlfMenuBarPopup","alfresco/menus/AlfMenuGroup","alfresco/menus/AlfMenuItem","dojo/_base/array","dojo/_base/lang"],function(e,g,d,h,j,c,i,a){return e([g,d],{postCreate:function b(){this.inherited(arguments);this.actionsGroup=new j({});if(this.currentItem.actions&&this.currentItem.actions.length>0){i.forEach(this.currentItem.actions,a.hitch(this,"addAction"))}this.actionsMenu=new h({label:"Actions"});this.actionsMenu.popup.addChild(this.actionsGroup);this._menuBar.addChild(this.actionsMenu);this._menuBar.placeAt(this.containerNode)},addAction:function f(m,k){this.alfLog("log","Adding action",m);var l=new c({label:m.label,iconImage:Alfresco.constants.URL_RESCONTEXT+"components/documentlibrary/actions/"+m.icon+"-16.png",type:m.type,publishTopic:this.singleDocumentActionTopic,publishPayload:{document:this.currentItem,action:m}});this.actionsGroup.addChild(l)}})});