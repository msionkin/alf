define(["dojo/_base/declare","alfresco/renderers/Property","alfresco/services/_NavigationServiceTopicMixin","dojo/text!./templates/Category.html","dojo/_base/lang","dojo/_base/array","alfresco/navigation/Link","dojo/dom-construct"],function(d,g,h,j,b,f,a,c){return d([g,h],{i18nRequirements:[{i18nFile:"./i18n/Category.properties"}],templateString:j,cssRequirements:[{cssFile:"./css/Category.css"}],postMixInProperties:function k(){},postCreate:function e(){this.inherited(arguments);if(b.exists("node.properties.cm:categories",this.currentItem)){var l=b.getObject("node.properties.cm:categories",false,this.currentItem);f.forEach(l,b.hitch(this,"addCategory",l.length))}},addCategory:function i(o,n,l){this.alfLog("log","Adding category",n);var m=new a({label:n.name,title:this.message("category.filter.title",{"0":n.name}),publishTopic:this.navigateToPageTopic,publishPayload:{type:this.hashPath,url:"filter=category|"+n.path+"/"+n.name}});m.placeAt(this.categoryNode,"last");if(l<o-1){c.create("span",{innerHTML:",","class":"spacer"},this.categoryNode,"last")}}})});