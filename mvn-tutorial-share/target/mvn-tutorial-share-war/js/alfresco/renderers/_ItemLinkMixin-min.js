define(["dojo/_base/declare","alfresco/core/Core","alfresco/core/UrlUtils","alfresco/core/PathUtils"],function(c,e,b,g){return c([e,b,g],{generateFileFolderLink:function a(){var i={itemLinkHref:"",itemLinkClass:"",itemLinkRelative:""};if(this.currentItem!=null&&this.currentItem.node){var h=this.currentItem.jsNode;if(h.isLink&&this.currentItem.location.site){if(h.isContainer){i.itemLinkHref=$siteURL("documentlibrary?path="+encodeURIComponent(this.currentItem.location.path),{site:this.currentItem.location.site.name})}else{i.itemLinkHref=this.getActionUrls(this.currentItem,this.currentItem.location.site.name).documentDetailsUrl}}else{if(h.isContainer){if(this.currentItem.parent.isContainer){i.itemLinkHref="#";i.itemLinkClass="filter-change";i.itemLinkRelative=this.generatePathMarkup(this.currentItem.location)}else{if(this.currentItem.location.path==="/"){i.itemLinkHref="#";i.itemLinkClass="filter-change";i.itemLinkRelative=this.generateFilterMarkup({filterId:"path",filterData:$combine(this.currentItem.location.path,"")})}else{i.itemLinkHref="#"}}}else{var j=this.getActionUrls(this.currentItem);if(h.isLink&&h.linkedNode.isContainer){i.itemLinkHref=actionUrls.folderDetailsUrl}else{i.itemLinkHref=actionUrls.documentDetailsUrl}}}}return i},generateFilterMarkup:function f(h){var i=Alfresco.util.cleanBubblingObject(h);return YAHOO.lang.substitute("filter={filterId}|{filterData}|{filterDisplay}",i,function(k,l,j){return typeof l==="undefined"?"":window.escape(l)})},generatePathMarkup:function d(h){return this.generateFilterMarkup({filterId:"path",filterData:this.combinePaths(h.path,h.file)})},})});