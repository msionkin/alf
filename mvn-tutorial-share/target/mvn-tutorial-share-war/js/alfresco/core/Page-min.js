define(["alfresco/core/ProcessWidgets","dojo/_base/declare","dojo/dom-construct","dojo/_base/array","dojo/_base/lang"],function(e,d,a,h,g){return d([e],{postCreate:function c(){if(this.services){this.processServices(this.services)}if(this.widgets){this.processWidgets(this.widgets,this.containerNode)}},allWidgetsProcessed:function f(i){this.alfLog("log","All page widgets processed");if(this.publishOnReady!=null){h.forEach(this.publishOnReady,g.hitch(this,"onReadyPublish"))}},onReadyPublish:function b(i){if(i!=null&&i.publishTopic!=null&&i.publishTopic!=""){this.alfLog("log","Onload publication",i);this.alfPublish(i.publishTopic,i.publishPayload)}else{this.alfLog("warn","The page was configured with an onload publication but no 'publishTopic' was provided",i,this)}}})});