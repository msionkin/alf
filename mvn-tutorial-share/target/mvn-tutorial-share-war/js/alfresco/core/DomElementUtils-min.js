define(["dojo/_base/declare"],function(a){return a(null,{getInputSelection:function(f){var i=0,d=0,h,e,c,b,g;if(typeof f.selectionStart=="number"&&typeof f.selectionEnd=="number"){i=f.selectionStart;d=f.selectionEnd}else{e=document.selection.createRange();if(e&&e.parentElement()==f){b=f.value.length;h=f.value.replace(/\r\n/g,"\n");c=f.createTextRange();c.moveToBookmark(e.getBookmark());g=f.createTextRange();g.collapse(false);if(c.compareEndPoints("StartToEnd",g)>-1){i=d=b}else{i=-c.moveStart("character",-b);i+=h.slice(0,i).split("\n").length-1;if(c.compareEndPoints("EndToEnd",g)>-1){d=b}else{d=-c.moveEnd("character",-b);d+=h.slice(0,d).split("\n").length-1}}}}return{start:i,end:d}},setCaretPosition:function(d,b){if(d.setSelectionRange){d.focus();d.setSelectionRange(b,b)}else{if(d.createTextRange){var c=d.createTextRange();c.moveStart("character",b);c.select()}}}})});