define(["dojo/_base/declare","alfresco/core/Core","alfresco/core/DynamicWidgetProcessingTopics","dojo/_base/lang","dojo/_base/array"],function(a,c,b,g,h){return a([c,b],{postCreate:function f(){this.alfSubscribe(this.dynamicallyAddWidgetTopic,g.hitch(this,"processDynamicUpdates"));this.inherited(arguments)},processDynamicUpdates:function d(j){if(!g.exists("targetId",j)){this.alfLog("warn","A request made to add widgets dynamically but a 'targetId' attribute was not provided",j)}else{if(!g.exists("widgets",j)){this.alfLog("warn","A request made to add widgets dynamically but a 'widgets' attribute was not provided",j)}else{if(j.targetId==this.id){var i=(typeof j.targetPosition==="number")?j.targetPosition:null;h.forEach(j.widgets,g.hitch(this,"addWidgetDynamically",j.targetId,i))}}}},addWidgetDynamically:function e(j,k,l,i){if(typeof l.placeAt!=="function"){this.alfLog("error","Widget has no 'placeAt' function so cannot be dynamically added",l)}else{l.placeAt(j,k)}}})});