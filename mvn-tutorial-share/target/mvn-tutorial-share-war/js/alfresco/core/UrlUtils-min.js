define(["dojo/_base/declare","alfresco/core/PathUtils"],function(a,d){return a([d],{nonAmdDependencies:["/js/alfresco.js"],generateUserLink:function(e){if(e.isDeleted===true){return"<span>"+this.message("details.user.deleted",Alfresco.util.encodeHTML(e.userName))+"</span>"}return Alfresco.util.userProfileLink(e.userName,YAHOO.lang.trim(e.firstName+" "+e.lastName))},uriTemplate:function(e,f,g){return Alfresco.util.uriTemplate(e,f,g)},renderUriTemplate:function(e,f,g){return Alfresco.util.renderUriTemplate(e,f,g)},siteURL:function(e,f,g){return Alfresco.util.siteURL(e,f,g)},getActionUrls:function b(l,g,n,k){var i=l.jsNode,o=i.isLink?i.linkedNode.nodeRef:i.nodeRef,m=o.toString(),e=o.uri,j=i.contentURL,p=l.workingCopy||{},h=(l.location.site!=null)?l.location.site.name:null;var f={siteId:(g!=null)?g:h};actionUrls={downloadUrl:this.combinePaths(Alfresco.constants.PROXY_URI,j)+"?a=true",viewUrl:this.combinePaths(Alfresco.constants.PROXY_URI,j)+'" target="_blank',documentDetailsUrl:this.generatePageUrl("document-details?nodeRef="+m,f),folderDetailsUrl:this.generatePageUrl("folder-details?nodeRef="+m,f),editMetadataUrl:this.generatePageUrl("edit-metadata?nodeRef="+m,f),inlineEditUrl:this.generatePageUrl("inline-edit?nodeRef="+m,f),managePermissionsUrl:this.generatePageUrl("manage-permissions?nodeRef="+m,f),manageTranslationsUrl:this.generatePageUrl("manage-translations?nodeRef="+m,f),workingCopyUrl:this.generatePageUrl("document-details?nodeRef="+(p.workingCopyNodeRef||m),f),workingCopySourceUrl:this.generatePageUrl("document-details?nodeRef="+(p.sourceNodeRef||m),f),viewGoogleDocUrl:p.googleDocUrl+'" target="_blank',explorerViewUrl:this.combinePaths(n,"/n/showSpaceDetails/",e,f)+'" target="_blank',cloudViewUrl:this.combinePaths(Alfresco.constants.URL_SERVICECONTEXT,"cloud/cloudUrl?nodeRef="+m)};actionUrls.sourceRepositoryUrl=this.viewInSourceRepositoryURL(l,actionUrls)+'" target="_blank';return actionUrls},generatePageUrl:function(f,e){return this.siteURL(f,e)},viewInSourceRepositoryURL:function c(h,j,g){var i=h.node,f=h.location.repositoryId,e=g,k;if(!f||!e||!e[f]){return"#"}k=i.isContainer?j.folderDetailsUrl:j.documentDetailsUrl;k=k.substring(Alfresco.constants.URL_CONTEXT.length);return this.combinePaths(e[f],"/",k)}})});