(function(){var d=YAHOO.util.Dom,c=YAHOO.util.Selector;var b=Alfresco.util.encodeHTML;Alfresco.component.TaskDetailsHeader=function e(f){Alfresco.component.TaskDetailsHeader.superclass.constructor.call(this,"Alfresco.component.TaskDetailsHeader",f,["button"]);YAHOO.Bubbling.on("taskDetailedData",this.onTaskDetailsData,this);return this};YAHOO.extend(Alfresco.component.TaskDetailsHeader,Alfresco.component.Base,{options:{referrer:null,nodeRef:null},onTaskDetailsData:function a(i,g){var f=g[1],h=f.id,j=f.properties.bpm_description,l=f.workflowInstance.id,k="workflow-details?workflowId="+l+"&taskId="+h;if(this.options.referrer){k+="&referrer="+encodeURIComponent(this.options.referrer)}else{if(this.options.nodeRef){k+="&nodeRef="+encodeURIComponent(this.options.nodeRef)}}if(j&&j!=f.title){j=this.msg("label.message",b(j),b(f.title))}else{j=this.msg("label.noMessage",b(f.title))}c.query(".links a",this.id,true).setAttribute("href",Alfresco.util.siteURL(k));d.removeClass(c.query(".links",this.id,true),"hidden");c.query("h1 span",this.id,true).innerHTML=j}})})();