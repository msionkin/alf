(function(){var g=YAHOO.util.Dom,b=YAHOO.util.Event,f=Alfresco.util.formatDate,e=Alfresco.util.fromISO8601;Alfresco.DocumentMetadata=function d(h){Alfresco.DocumentMetadata.superclass.constructor.call(this,"Alfresco.DocumentMetadata",h);return this};YAHOO.extend(Alfresco.DocumentMetadata,Alfresco.component.Base,{options:{nodeRef:null,site:null,formId:null},onReady:function c(){Alfresco.util.Ajax.request({url:Alfresco.constants.URL_SERVICECONTEXT+"components/form",dataObj:{htmlid:this.id+"-formContainer",itemKind:"node",itemId:this.options.nodeRef,formId:this.options.formId,mode:"view"},successCallback:{fn:this.onFormLoaded,scope:this},failureMessage:this.msg("message.failure"),scope:this,execScripts:true})},onFormLoaded:function a(h){var i=g.get(this.id+"-formContainer"),j=this;i.innerHTML=h.serverResponse.responseText;g.getElementsByClassName("viewmode-value-date","span",i,function(){var l=g.getAttribute(this,"data-show-time");var k=(l=="false")?j.msg("date-format.defaultDateOnly"):j.msg("date-format.default");this.innerHTML=f(e(g.getAttribute(this,"data-date-iso8601")),k)})}})})();