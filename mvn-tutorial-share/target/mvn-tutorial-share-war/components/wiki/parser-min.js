(function(){Alfresco.WikiParser=function(){return this};Alfresco.WikiParser.prototype={URL:null,parse:function a(d,c){c=c==null?[]:c;d=this._renderLinks(d,c);return d},_renderLinks:function b(n,d){if(typeof n=="string"){var o=n.split("[["),k=n;if(o.length>1){var m=/^([^\|\]]+)(?:\|([^\]]+))?\]\]/;var c,e,l,h,f,g,j;k=o[0];for(e=1,l=o.length;e<l;e++){h=o[e];if(m.test(h)){f=m.exec(h);g=f[1].replace(/\s+/g,"_");j=Alfresco.util.arrayContains(d,g);c='<a href="'+this.URL+encodeURIComponent(Alfresco.util.decodeHTML(g))+'" class="'+(j?"theme-color-1":"wiki-missing-page")+'">';c+=(f[2]?f[2]:f[1]);c+="</a>";k+=c;k+=h.substring(f[0].length)}}}return k}return n}}})();